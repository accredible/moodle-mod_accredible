define(['jquery','core/ajax','core/templates'],function($,b,c){var d={init:function(){d.add=$('#id_add_new_line');d.add.on('click',d.addNewLine);d.list=$('#id_my_mappings');d.list.on('click','.remove-line',d.removeLine)},addNewLine:function(){d.renderMappingLine({index:d.countLines()+1},'#id_my_mappings')},removeLine:function(){var a=$(this).attr('data-id');$(`#mapping_line_${a}`).remove()},countLines:function(){return $('[id*="mapping_line_"]').length},renderMappingLine:function(A,_){c.renderForPromise('mod_accredible/mapping_line',A).then(B=>c.appendNodeContents(_,B.html,B.js))}};return d});

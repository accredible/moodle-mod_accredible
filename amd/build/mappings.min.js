define(['jquery','core/ajax','core/templates'],function($,b,c){var d={init:function(){d.setInitialValues();d.add=$('#id_add_new_line');d.add.on('click',d.addNewLine);d.list=$('#id_my_mappings');d.list.on('click','.remove-line',d.removeLine)},addNewLine:function(){d.renderMappingLine({section:'coursefieldmapping', index:d.countLines()+1},'#id_my_mappings')},removeLine:function(){var a=$(this).attr('data-id');$(`#mapping_line_${a}`).remove()},countLines:function(){return $('[id*="mapping_line_"]').length},setInitialValues:function(){$('#id_my_mappings select.form-control').each((_,A)=>{var B=$(A);B.val(B.attr('data-initial-value'))})},renderMappingLine:function(C,_b){c.renderForPromise('mod_accredible/mapping_line',C).then(_a=>c.appendNodeContents(_b,_a.html,_a.js))}};return d});
